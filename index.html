<html>
<head>
    <title>Generator Controller</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class='container'>
        <h2>Generator Controller Status</h2>
        <div class='status'>
            <span class='status-label'>Generator Running:</span>
            <span class='status-value indicator' id='running'>
                <span class='indicator'></span>
                <span class='status-text'>--</span>
            </span>
        </div>
        <div class='status'>
            <span class='status-label'>Run Request:</span>
            <span class='status-value indicator' id='request'>
                <span class='indicator'></span>
                <span class='status-text'>--</span>
            </span>
        </div>
        <div class='status'>
            <span class='status-label'>Cool Down Active:</span>
            <span class='status-value indicator' id='cooldown'>
                <span class='indicator'></span>
                <span class='status-text'>--</span>
            </span>
        </div>
        <div class='status'>
            <span class='status-label'>Maintenance Active:</span>
            <span class='status-value indicator' id='maintenance'>
                <span class='indicator'></span>
                <span class='status-text'>--</span>
            </span>
        </div>
        <div class='status'>
            <span class='status-label'>Days Until Maintenance:</span>
            <span class='status-value' id='days'>--</span>
        </div>
        <div class='status'>
            <span class='status-label'>Start Attempts:</span>
            <span class='status-value' id='startAttempts'>--</span>
        </div>
        <div class='status'>
            <span class='status-label'>Detected Runs:</span>
            <span class='status-value' id='detectedRuns'>--</span>
        </div>
        <div class='status'>
            <span class='status-label'>Last Start Request:</span>
            <span class='status-value' id='lastStartRequest'>--</span>
        </div>
        <div class='status'>
            <span class='status-label'>Last Kill Action:</span>
            <span class='status-value' id='lastKillAction'>--</span>
        </div>
        <div class='status'>
            <span class='status-label'>Last Run-Sense Start:</span>
            <span class='status-value' id='lastRunSenseStart'>--</span>
        </div>
        <div class='status'>
            <span class='status-label'>Last Run-Sense End:</span>
            <span class='status-value' id='lastRunSenseEnd'>--</span>
        </div>

        <div style='margin-top: 20px; text-align: center;'>
            <a href='/logpage' class='button-primary'>View State Transition Log</a>
            <a href='/config' class='button-primary'>Configuration</a>
        </div>
        <div style='margin-top: 10px; text-align: center; font-size: 12px; color: #666;'>
            Uptime: <span id='uptimeDisplay'>--</span>
        </div>

        <div class='test-section'>
            <h3>Testing Controls</h3>
            <div class='test-buttons'>
                <button class='button-primary' onclick='testConnection()'>Test Connection</button>
                <button class='button-secondary' onclick='forceMaintenance()'>Force Maintenance (2s)</button>
            </div>
            <div class='test-buttons'>
                <button class='button-tertiary' onclick='overrideRunning(true)'>Indicate Running</button>
                <button class='button-tertiary' onclick='overrideRunning(false)'>Indicate NOT Running</button>
                <button class='button-tertiary' onclick='overrideRunning(null)'>Use Run-Sense Input</button>
                <button class='button-primary' onclick='overrideRequest(true)'>Force Run-Request</button>
                <button class='button-primary' onclick='overrideRequest(false)'>Force NO Run-Request</button>
                <button class='button-primary' onclick='overrideRequest(null)'>Use Inverter's Run-Request</button>
            </div>
        </div>
    </div>
    <script src='/script.js'></script>
</body>
</html>
